<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Yorumları</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            padding: 20px;
            background: transparent;
        }
        
        .reviews-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .rating-summary {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .rating-number {
            font-size: 48px;
            font-weight: bold;
            color: #1a73e8;
        }
        
        .rating-stars {
            font-size: 24px;
            color: #fbbc04;
        }
        
        .total-reviews {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .google-button {
            background: #4285f4;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s;
        }
        
        .google-button:hover {
            background: #357ae8;
        }
        
        .google-icon {
            width: 18px;
            height: 18px;
        }
        
        .review-card {
            background: #fff;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .review-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .author-name {
            font-weight: 600;
            color: #202124;
            font-size: 16px;
        }
        
        .review-rating {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .stars {
            color: #fbbc04;
            font-size: 16px;
        }
        
        .review-time {
            color: #5f6368;
            font-size: 13px;
        }
        
        .review-text {
            color: #3c4043;
            line-height: 1.6;
            font-size: 14px;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .error {
            text-align: center;
            padding: 40px;
            color: #d93025;
            background: #fce8e6;
            border-radius: 12px;
        }
        
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .rating-summary {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="reviews-container">
        <div id="reviews-widget">
            <div class="loading">Yorumlar yükleniyor...</div>
        </div>
    </div>

    <script>
        // GitHub'dan reviews.json dosyasını çek
        const GITHUB_USERNAME = 'GITHUB_KULLANICI_ADINIZ'; // Buraya GitHub kullanıcı adınızı yazın
        const REPO_NAME = 'google-reviews-widget';
        const REVIEWS_URL = `https://raw.githubusercontent.com/${GITHUB_USERNAME}/${REPO_NAME}/main/reviews.json`;

        function renderStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            let stars = '⭐'.repeat(fullStars);
            if (hasHalfStar) stars += '⭐';
            return stars;
        }

        async function loadReviews() {
            try {
                const response = await fetch(REVIEWS_URL);
                if (!response.ok) throw new Error('Yorumlar yüklenemedi');
                
                const data = await response.json();
                
                const widget = document.getElementById('reviews-widget');
                
                widget.innerHTML = `
                    <div class="header">
                        <div class="rating-summary">
                            <div class="rating-number">${data.rating.toFixed(1)}</div>
                            <div>
                                <div class="rating-stars">${renderStars(data.rating)}</div>
                                <div class="total-reviews">${data.totalReviews} yorum</div>
                            </div>
                        </div>
                        <a href="${data.googleMapsUrl}" target="_blank" class="google-button">
                            <svg class="google-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                            Google'da Gör
                        </a>
                    </div>
                    
                    ${data.reviews.map(review => `
                        <div class="review-card">
                            <div class="review-header">
                                <div class="author-name">${review.author}</div>
                                <div class="review-rating">
                                    <span class="stars">${renderStars(review.rating)}</span>
                                    <span class="review-time">${review.relativeTime}</span>
                                </div>
                            </div>
                            <div class="review-text">${review.text || 'Yorum metni yok.'}</div>
                        </div>
                    `).join('')}
                `;
            } catch (error) {
                console.error('Hata:', error);
                document.getElementById('reviews-widget').innerHTML = `
                    <div class="error">
                        Yorumlar yüklenirken bir hata oluştu. Lütfen daha sonra tekrar deneyin.
                    </div>
                `;
            }
        }

        // Sayfa yüklendiğinde yorumları getir
        loadReviews();
    </script>
</body>
</html>
